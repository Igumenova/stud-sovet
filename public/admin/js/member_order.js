const _id=document.querySelector(".order").dataset.id,title=document.querySelector(".order__title"),secondTitle=document.querySelector(".order__secondTitle"),thirdTitle=document.querySelector(".order__thirdTitle"),birthDay=document.querySelector(".order__birthDay"),email=document.querySelector(".order__email"),tel=document.querySelector(".order__tel"),memberStatus=document.querySelector(".order__memberStatus"),textarea=document.querySelector("#member_comment"),addEditEvent=e=>{const t=e.querySelector(".order__content"),r=e.querySelector(".order__edit"),o=e.dataset.key;let d=t.textContent;const n=e=>{if(e.target.textContent!==d){d=e.target.textContent;let t={_id:_id};t[o]=d,fetch(`${host}/admin/members`,{headers:{"Content-type":"application/json;charset=utf-8"},method:"PUT",body:JSON.stringify(t)}).then(e=>{200!==e.status&&alert(`Изменения не сохранились. Код ошибки: ${e.status}`)}).catch(e=>alert(`Ошибка запроса3. ${e.message}`))}t.removeEventListener("blur",n)};r.addEventListener("click",()=>{t.contentEditable=!0,t.addEventListener("blur",n),t.focus()})};for(const e of[title,secondTitle,thirdTitle,birthDay,email,tel,memberStatus])addEditEvent(e);textarea.addEventListener("change",()=>{fetch(`${host}/admin/members`,{headers:{"Content-type":"application/json;charset=utf-8"},method:"PUT",body:JSON.stringify({_id:_id,comment:textarea.value})}).then(e=>{200!==e.status&&alert(`Изменения не сохранились. Код ошибки: ${e.status}`)}).catch(e=>alert(`Ошибка запроса4. ${e.message}`))});