for(let e of document.querySelectorAll(".select.settings__select.filter"))e.addEventListener("change",()=>{for(let t of document.querySelectorAll(".order"))t.classList.remove("hide-row"),"all"!==e.getValue()&&t.querySelector("dev-select").getValue()!==e.getValue()&&t.classList.add("hide-row")});for(let e of document.querySelectorAll(".select.settings__select.sort"))e.addEventListener("change",()=>{const t=document.querySelector(".orders-grid"),r=Array.from(t.querySelectorAll(".order"));r.sort((t,r)=>{switch(e.getValue()){case"stage":const o=t.querySelector(".order__select"),l=r.querySelector(".order__select");return-1*o.getValue().localeCompare(l.getValue());case"date":const a=t.querySelector(".order__date").dataset.date,c=r.querySelector(".order__date").dataset.date;return moment(c)-moment(a);default:const s=t.querySelector(`.order__${e.getValue()}`),d=r.querySelector(`.order__${e.getValue()}`);return s.textContent.localeCompare(d.textContent)}}),r.forEach(e=>{t.removeChild(e)}),r.forEach(e=>{t.appendChild(e)})});for(let e of document.querySelectorAll(".order")){const t=e.querySelector(".options__item.remove"),r=e.querySelector(".order__name").textContent;t.addEventListener("click",()=>{confirm(`Удаляем задачу: \n${r}`)&&fetch(`${host}/admin/commands`,{headers:{"Content-type":"application/json;charset=utf-8"},method:"DELETE",body:JSON.stringify({_id:e.dataset.order})}).then(t=>{200===t.status?(e.classList.add("hide-row"),setTimeout(()=>{e.remove()},300)):alert(`Удаление не произошло. Код ошибки: ${t.status}`)}).catch(e=>alert(`Ошибка запроса2. ${e.message}`))})}